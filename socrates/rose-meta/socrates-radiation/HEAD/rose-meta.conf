#==============================================================================
# RADIATION
#==============================================================================

[namelist:radiation]
compulsory=true
description=Radiation scheme options
ns=namelist/Science/SOCRATES Radiation
sort-key=Section-A10
title=Radiation

[namelist:radiation=cloud_inhomogeneity]
compulsory=true
description=Sub-grid cloud horizontal inhomogeneity
!enumeration=true
help=Cloud water content exhibits subgrid-scale variability. The options for
    =reperesenting the radiative effects of this variability are as follows:
    =_________________________________________________________________
    =Homogeneous
    =  Horizontal water content variability is ignored.
    =_________________________________________________________________
    =Scaling
    =  The mean water content in each gridbox is multiplied by given
    =  scaling factors.
    =_________________________________________________________________
    =MCICA
    =  A stochastic cloud generator is used to produce sub-columns
    =  containing different water content values, which are randomly sampled.
    =_________________________________________________________________
    =Cairns
    =  A correction is applied to the optical scattering properties to
    =  account for cloud inhomogeneity based on Cairns et al. (2000) JAS, 57.
    =_________________________________________________________________
    =Tripleclouds
    =  Split cloud into optically thick and thin regions using the
    =  parametrisation from Hogan et al. (2019) DOI:10.1175/JAS-D-18-0366.1
sort-key=Panel-A04
trigger=namelist:radiation=mcica_data_file: 'mcica' ;
value-titles=Homogeneous, Scaling factor, MCICA, Cairns et. al. 2000,
            =Tripleclouds
values='homogeneous', 'scaling', 'mcica', 'cairns', 'tripleclouds'

[namelist:radiation=cloud_overlap]
compulsory=true
description=Cloud fraction vertical overlap
!enumeration=true
help=Options for treating the vertical overlap between different cloud
    =layers:
    =_________________________________________________________________
    =Maximum-Random
    =  Clouds in adjacent layers are maximally overlapped.
    =  Clouds separated by clear-sky are randomly overlapped.
    =_________________________________________________________________
    =Random
    =  All clouds are randomly overlapped.
    =_________________________________________________________________
    =Exponential-Random
    =  For clouds in adjacent layers the overlap is a linear combination
    =  of maximum and random. The parameter controlling the proportion
    =  of each depends on the decorrelation pressure scale(s).
sort-key=Panel-A03
trigger=namelist:radiation=cloud_vertical_decorr: 'exponential_random' ;
value-titles=Maximum-Random, Random, Exponential-Random
values='maximum_random', 'random', 'exponential_random'

[namelist:radiation=cloud_representation]
compulsory=true
description=Representation of cloud
!enumeration=true
help=Mixed-phase clouds contain both ice crystals and water droplets.
    =For the current options these are represented as being
    =segregated into separate sub-clouds placed side by side.
    =The clouds may be further divided into one or two regions to
    =represent either separate convective and large-scale cloud
    =fractions or optically thick and thin regions depending on the
    =following options:
    =_________________________________________________________________
    =No cloud
    =  Cloud has no radiative effect.
    =_________________________________________________________________
    =Large-scale cloud only
    =  Single cloud region containing only large-scale liquid and ice.
    =_________________________________________________________________
    =Combined convective and large-scale cloud
    =  Single cloud region including contributions from convective
    =  and large-scale cloud liquid and ice.
    =_________________________________________________________________
    =Segregated large-scale and convective cloud
    =  Two cloud regions: one region containing convective liquid and
    =  ice and a second region containing large-scale liquid and ice.
    =_________________________________________________________________
    =Combined cloud split into thick and thin regions
    =  Two cloud regions: both regions contain contributions from
    =  convective and large-scale cloud. Condensate is proportioned
    =  between an optically thick and an optically thin region
    =  depending on the cloud_inhomogeneity option.
sort-key=Panel-A02
trigger=namelist:radiation=cloud_overlap: 'liquid_and_ice',
       ='combined', 'conv_strat_liq_ice', 'split' ;
       =namelist:radiation=cloud_inhomogeneity: 'liquid_and_ice',
       ='combined', 'conv_strat_liq_ice', 'split' ;
       =namelist:radiation=droplet_effective_radius: 'liquid_and_ice',
       ='combined', 'conv_strat_liq_ice', 'split' ;
value-titles=No cloud,
            =Large-scale cloud only,
            =Combined convective and large-scale cloud,
            =Segregated large-scale and convective cloud,
            =Combined cloud split into thick and thin regions
values='no_cloud', 'liquid_and_ice', 'combined', 'conv_strat_liq_ice', 'split'

[namelist:radiation=cloud_vertical_decorr]
compulsory=true
description=Decorrelation pressure scale for cloud vertical overlap
help=Defines the sub-grid cloud vertical overlap using a single
    =global value of the decorrelation pressure scale (Pa).
    =This is the pressure difference over which the extent of vertical
    =overlap of sub-grid cloud fraction falls to 1/e.
!kind=default
sort-key=Panel-A03a
type=real

[namelist:radiation=constant_droplet_effective_radius]
compulsory=true
description=Cloud droplet effective radius
help=Value of constant cloud droplet effective radius in metres.
!kind=default
sort-key=Panel-A05a
type=real

[namelist:radiation=droplet_effective_radius]
compulsory=true
description=Treatment of cloud droplet effective radius
!enumeration=true
help=Options for setting the cloud droplet effective radius:
    =_________________________________________________________________
    =Default
    =  Use the Socrates default value of 7 microns.
    =_________________________________________________________________
    =Constant
    =  Use the constant value: constant_droplet_effective_radius
    =_________________________________________________________________
    =Liu Spectral Dispersion
    =  Use the relative spectral dispersion parameterization of
    =  Liu et al (2008), ERL.
    =  The relative dispersion used in the calculation of cloud
    =  droplet effective radius is calculated as a function of
    =  cloud liquid water and droplet number concentration.
sort-key=Panel-A05
trigger=namelist:radiation=constant_droplet_effective_radius: 'constant' ;
       =namelist:radiation=liu_aparam: 'liu' ;
       =namelist:radiation=liu_bparam: 'liu' ;
value-titles=Default (7 micron),
            =Constant,
            =Liu Spectral Dispersion
values='default', 'constant', 'liu'

[namelist:radiation=i_cloud_ice_type_lw]
compulsory=true
description=Type of optical properties for cloud ice
help=Type number for the ice-crystal optical properties
    =selected from those present in the LW spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A01b
type=integer

[namelist:radiation=i_cloud_ice_type_lwinc]
compulsory=true
description=Type of optical properties for cloud ice increments
help=Type number for the ice-crystal optical properties
    =selected from those present in the LW increment spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave Increment
sort-key=Panel-A01b
type=integer

[namelist:radiation=i_cloud_ice_type_sw]
compulsory=true
description=Type of optical properties for cloud ice
help=Type number for the ice-crystal optical properties
    =selected from those present in the SW spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A01b
type=integer

[namelist:radiation=i_cloud_ice_type_swinc]
compulsory=true
description=Type of optical properties for cloud ice increments
help=Type number for the ice-crystal optical properties
    =selected from those present in the SW increment spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave Increment
sort-key=Panel-A01b
type=integer

[namelist:radiation=i_cloud_liq_type_lw]
compulsory=true
description=Type of optical properties for cloud liquid
help=Type number for the cloud liquid optical properties
    =selected from those present in the LW spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A01a
type=integer

[namelist:radiation=i_cloud_liq_type_lwinc]
compulsory=true
description=Type of optical properties for cloud liquid increments
help=Type number for the cloud liquid optical properties
    =selected from those present in the LW increment spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave Increment
sort-key=Panel-A01a
type=integer

[namelist:radiation=i_cloud_liq_type_sw]
compulsory=true
description=Type of optical properties for cloud liquid
help=Type number for the cloud liquid optical properties
    =selected from those present in the SW spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A01a
type=integer

[namelist:radiation=i_cloud_liq_type_swinc]
compulsory=true
description=Type of optical properties for cloud liquid increments
help=Type number for the cloud liquid optical properties
    =selected from those present in the SW increment spectral file.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave Increment
sort-key=Panel-A01a
type=integer

[namelist:radiation=l_cfc113_lw]
compulsory=true
description=Include CFC-113 absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A11
type=logical

[namelist:radiation=l_cfc11_lw]
compulsory=true
description=Include CFC-11 absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A09
type=logical

[namelist:radiation=l_cfc12_lw]
compulsory=true
description=Include CFC-12 absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A10
type=logical

[namelist:radiation=l_ch4_lw]
compulsory=true
description=Include methane (CH4) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A08
type=logical

[namelist:radiation=l_ch4_sw]
compulsory=true
description=Include methane (CH4) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A08
type=logical

[namelist:radiation=l_co2_lw]
compulsory=true
description=Include carbon dioxide (CO2) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A05
type=logical

[namelist:radiation=l_co2_sw]
compulsory=true
description=Include carbon dioxide (CO2) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A05
type=logical

[namelist:radiation=l_continuum_lw]
compulsory=true
description=Include water vapour continuum absorption
help=This includes a treatment of the water vapour continuum using
    =a single absorption coefficient per band.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A03
type=logical

[namelist:radiation=l_continuum_sw]
compulsory=true
description=Include water vapour continuum absorption
help=This includes a treatment of the water vapour continuum using
    =a single absorption coefficient per band.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A03
type=logical

[namelist:radiation=l_h2o_lw]
compulsory=true
description=Include water vapour line absorption
help=Water vapour absorption lines are treated separately from the
    =continuum with a number of absorption coefficients per band.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A04
type=logical

[namelist:radiation=l_h2o_sw]
compulsory=true
description=Include water vapour line absorption
help=Water vapour absorption lines are treated separately from the
    =continuum with a number of absorption coefficients per band.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A04
type=logical

[namelist:radiation=l_hcfc22_lw]
compulsory=true
description=Include HCFC-22 absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A12
type=logical

[namelist:radiation=l_hfc134a_lw]
compulsory=true
description=Include HFC-134a absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A13
type=logical

[namelist:radiation=l_inc_radstep]
compulsory=true
description=Apply incremental radiation timesteps
help=Simple radiation increments may be calculated more frequently
    =than full radiation calculations. This is generally applied to
    =account for changes in low cloud.
!kind=default
sort-key=Panel-A00a
trigger=namelist:radiation=i_cloud_ice_type_lwinc: .true. ;
       =namelist:radiation=i_cloud_ice_type_swinc: .true. ;
       =namelist:radiation=i_cloud_liq_type_lwinc: .true. ;
       =namelist:radiation=i_cloud_liq_type_swinc: .true. ;
       =namelist:radiation=n_inc_radstep: .true. ;
       =namelist:radiation=spectral_file_lwinc: .true. ;
       =namelist:radiation=spectral_file_swinc: .true. ;
type=logical

[namelist:radiation=l_n2o_lw]
compulsory=true
description=Include nitrous oxide (N2O) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A07
type=logical

[namelist:radiation=l_n2o_sw]
compulsory=true
description=Include nitrous oxide (N2O) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A07
type=logical

[namelist:radiation=l_o2_sw]
compulsory=true
description=Include oxygen (O2) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A09
type=logical

[namelist:radiation=l_o3_lw]
compulsory=true
description=Include ozone (O3) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A06
type=logical

[namelist:radiation=l_o3_sw]
compulsory=true
description=Include ozone (O3) absorption
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A06
type=logical

[namelist:radiation=l_planet_grey_surface]
compulsory=true
description=Set grey surface optical properties
help=Grey surface with constant shortwave albedo
    =and longwave emissivity for all points.
!kind=default
sort-key=Panel-A01
trigger=namelist:radiation=planet_albedo:     .true. ;
       =namelist:radiation=planet_emissivity: .true. ;
type=logical

[namelist:radiation=l_rayleigh_sw]
compulsory=true
description=Include Rayleigh scattering
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A02
type=logical

[namelist:radiation=l_trans_zen_correction]
compulsory=true
description=Transmission based solar zenith angle correction
help=This will take into account the change in optical path length through the
    =atmosphere when correcting the surface fluxes for the change in
    =solar zenith angle between radiation time-steps. See Manners et al 2009,
    =DOI:10.1002/qj.385 for further details.
!kind=default
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A01c
type=logical

[namelist:radiation=liu_aparam]
compulsory=true
description=Parameter A for Liu spectral dispersion
help=Parameter to control the cloud droplet effective radius as a function of the cloud droplet number concentration.
!kind=default
sort-key=Panel-A05a
type=real

[namelist:radiation=liu_bparam]
compulsory=true
description=Parameter B for Liu spectral dispersion
help=Parameter to control the cloud droplet effective radius as a function of the cloud droplet number concentration.
!kind=default
sort-key=Panel-A05b
type=real

[namelist:radiation=mcica_data_file]
compulsory=true
description=MCICA data file
help=The path to the MCICA data file holding the configuration for sampling
    =sub-grid cloud. This file is specific to the particular SW and LW
    =spectral files used in the run and will usually be held in the same
    =directory as the spectral files.
sort-key=Panel-A04b
!string_length=filename
type=character

[namelist:radiation=n_horiz_ang]
compulsory=true
description=Number of aspects of horizon angles
help=Number of directions in which horizon angles are supplied in
    =the ancillary data.
!kind=default
sort-key=Panel-A06a
type=integer

[namelist:radiation=n_horiz_layer]
compulsory=true
description=Number of layers of horizon angles
help=Number of model layers (including the surface) in which horizon
    =angles are supplied in the ancillary data.
!kind=default
sort-key=Panel-A06b
type=integer

[namelist:radiation=n_inc_radstep]
compulsory=true
description=Number of model timesteps per increment radiation timestep
help=The increment radiation calculations should be done more frequently
    =then every radiation timestep. Increment calculations will be done
    =on timesteps 1, 1+n_inc_radstep, 1+n_inc_radstep*2...
!kind=default
sort-key=Panel-A00b
type=integer

[namelist:radiation=n_radstep]
compulsory=true
description=Number of model timesteps per radiation timestep
help=The radiation calculations may be done less frequently than
    =every model (dynamics) timestep. Radiation calculations will
    =be done on timesteps 1, 1+n_radstep, 1+n_radstep*2...
!kind=default
sort-key=Panel-A00
type=integer

[namelist:radiation=planet_albedo]
compulsory=true
description=Grey surface shortwave albedo
help=Surface albedo for all points and all wavelengths.
!kind=default
sort-key=Panel-A01a
type=real

[namelist:radiation=planet_emissivity]
compulsory=true
description=Grey surface longwave emissivity
help=Surface emissivity for all points and all wavelengths.
!kind=default
sort-key=Panel-A01b
type=real

[namelist:radiation=spectral_file_lw]
compulsory=true
description=Longwave spectral file
help=The path to the longwave spectral file holding the configuration of
    =optical properties for the longwave radiation calculation.
ns=namelist/Science/SOCRATES Radiation/Long-Wave
sort-key=Panel-A01
!string_length=filename
type=character

[namelist:radiation=spectral_file_lwinc]
compulsory=true
description=Increment longwave spectral file
help=The path to the longwave spectral file holding the configuration of
    =optical properties for the incremental longwave radiation calculation.
ns=namelist/Science/SOCRATES Radiation/Long-Wave Increment
sort-key=Panel-A01
!string_length=filename
type=character

[namelist:radiation=spectral_file_sw]
compulsory=true
description=Shortwave spectral file
help=The path to the shortwave spectral file holding the configuration of
    =optical properties for the shortwave (SW) radiation calculation.
ns=namelist/Science/SOCRATES Radiation/Short-Wave
sort-key=Panel-A01
!string_length=filename
type=character

[namelist:radiation=spectral_file_swinc]
compulsory=true
description=Increment shortwave spectral file
help=The path to the shortwave spectral file holding the configuration of
    =optical properties for the incremental shortwave radiation calculation.
ns=namelist/Science/SOCRATES Radiation/Short-Wave Increment
sort-key=Panel-A01
!string_length=filename
type=character

[namelist:radiation=topography]
compulsory=true
description=Topographic correction scheme
!enumeration=true
help=Treatment of radiative transfer over resolved topographic features:
    =_________________________________________________________________
    =Flat
    =  No corrections for slope or shading
    =_________________________________________________________________
    =Slope
    =  Corrects the direct SW radiation absorbed and reflected at the
    =  surface for the angle of the surface slope with respect to the
    =  position of the sun.
    =
    =  Requires that X and Y gradient fields are read from the
    =  orography ancillary file.
    =_________________________________________________________________
    =Horizon
    =  In addition to the treatment of surface slope, the direct SW
    =  radiation at the surface will also be corrected for shading by
    =  surrounding terrain. The insulating effect of surrounding
    =  terrain on the LW net surface flux will be accounted for in
    =  the absorbed land surface flux (within JULES).
    =
    =  Requires that horizon angle and aspect fields are read from the
    =  orography ancillary file.
    =
    =Manners et. al. (2012), DOI:10.1002/qj.956
sort-key=Panel-A06
trigger=namelist:radiation=n_horiz_ang: 'horizon' ;
       =namelist:radiation=n_horiz_layer: 'horizon' ;
value-titles=Flat, Slope, Horizon
values='flat', 'slope', 'horizon'
